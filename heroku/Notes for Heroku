Notes for Obsidian
##Configure App for Heroku
- Create and update requirements.txt (for dependendencies)
    ```pip freeze > requirements.txt```
    - takes snapshot of versions of packages in virtual env
- set up environment variables in setup.sh
- run app using Procfile, gunicorn
    ```pip install gunicorn```
    ```touch Procfile``` creates file
        ```web: gunicorn app:all``` (App should be in app.py)
        
  ??? should Heroku specific files be separated?
  ??? GUI

###For Database, Use Migrations
    ```
    pip install flask_script
    pip install flask_migrate
    pip install psycopg2-binary
    ```

    In manage.py
    ```
    from flask_script import Manager
    from flask_migrate import Migrate, MigrateCommand

    from app import app
    from models import db

    migrate = Migrate(app, db)
    manager = Manager(app)

    manager.add_command('db', MigrateCommand)


    if __name__ == '__main__':
        manager.run()
    ```

    Run local migrations using manage.py
    ```
    python manage.py db init
    python manage.py db migrate
    python manage.py db upgrade
    ```
    For example project file structure is:
    >__pycache__
    >migrations
    .gitignore
    app.py
    manage.py
    models.py
    Procfile
    requirements.txt
    setup.sh

##Deploy to Heroku
- Create Heroku app
``` heroku create app_name ```
    - copy git url
    - Heroku dashboard will have name
    





